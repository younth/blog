## Reactæ¦‚è¿°åŠåŸºç¡€

### 1.1 Reactæ¦‚è¿°

#### 1.1.1 Reactå‰ä¸–ä»Šç”Ÿ

React èµ·æºäº Facebook çš„å†…éƒ¨é¡¹ç›®ï¼Œå› ä¸ºè¯¥å…¬å¸å¯¹å¸‚åœºä¸Šæ‰€æœ‰ JavaScript MVC æ¡†æ¶ï¼Œéƒ½ä¸æ»¡æ„ï¼Œå°±å†³å®šè‡ªå·±å†™ä¸€å¥—ï¼Œç”¨æ¥æ¶è®¾ Instagram çš„ç½‘ç«™ã€‚åšå‡ºæ¥ä»¥åï¼Œå‘ç°è¿™å¥—ä¸œè¥¿å¾ˆå¥½ç”¨ï¼Œå°±åœ¨2013å¹´5æœˆå¼€æºäº†ã€‚

Reactæ˜¯ä¸€ä¸ªæ„å»ºç”¨æˆ·ç•Œé¢çš„javascriptåº“ï¼Œå®ƒå› å•å‘æ•°æ®ç»‘å®šå’Œè™šæ‹Ÿ DOM ä¸¤å¤§ç‰¹ç‚¹åœ¨å‰ç«¯ç•Œå¤§æ”¾å¼‚å½©ã€‚
å› ä¸ºå®ƒè§£å†³äº†å½“ä¸‹ç½‘é¡µæ€§èƒ½é™·å…¥çš„ç“¶é¢ˆâ€”ç”±äºç›´æ¥æ“ä½œDOMå¯¼è‡´é¡µé¢æ€§èƒ½æŸå¤±å¾ˆå¤§ã€‚è€Œè™šæ‹ŸDOMé¿å…äº†ç›´æ¥æ“ä½œDOM(Jquery æ˜¯ä¸€ä¸ªå…¸å‹çš„æ“ä½œDOMçš„åº“ï¼Œæ‰€ä»¥ React å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å°½é‡ä¸è¦ä½¿ç”¨Jquery)ã€‚å†åŠ ä¸Š React å•å‘æ•°æ®ç»‘å®šçš„ç‰¹ç‚¹ä½¿å¾—ä¸šåŠ¡é€»è¾‘æ›´åŠ æ¸…æ™°å¯æ§ã€‚

ç›®å‰ReactæŠ€æœ¯å·²ç»å¹¿æ³›çš„åº”ç”¨åœ¨å›½å†…å„å¤§äº’è”ç½‘å…¬å¸ï¼Œç™¾åº¦è´´å§ï¼Œå¤©çŒ«ï¼Œæ‰‹Qç­‰éƒ½å……æ–¥ç€å¤§é‡Reactçš„å½±å­ã€‚


#### 1.1.2 è®¤è¯†Reactç”Ÿæ€åœˆ

 æ—¶è‡³ä»Šæ—¥ï¼ŒReact å·²ä¸æ˜¯ä¸€ä¸ªåº“ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ä¸ªåºå¤§çš„ä½“ç³»ã€‚æƒ³è¦å‘æŒ¥å®ƒçš„å¨åŠ›ï¼Œæ•´ä¸ªæŠ€æœ¯æ ˆéƒ½è¦é…åˆå®ƒæ”¹é€ ã€‚ä½ è¦å­¦ä¹ ä¸€æ•´å¥—è§£å†³æ–¹æ¡ˆï¼Œä»åç«¯åˆ°å‰ç«¯ï¼Œéƒ½æ˜¯å…¨æ–°çš„åšæ³•ã€‚ å›´ç»•ä»¥Reactä¸ºæ ¸å¿ƒçš„æŠ€æœ¯æ ˆä¹Ÿæ—¥ç›Šæˆå‹ï¼Œå®ƒä¸»è¦åŒ…å«ï¼š
 
 - React
 - npm
 - jsæ‰“åŒ…å·¥å…·ï¼ˆå¦‚ï¼šwebpackï¼‰
 - babel
 - ES6
 - Router
 - Redux
 - React Native

#### 1.1.3 Reactä¸å…¶ä»–æ¡†æ¶çš„å¯¹æ¯”

ç›®å‰å‰ç«¯ç•Œæœ€çƒ­é—¨çš„æ¡†æ¶è«å±`React` `Vue` `Angular`ã€‚æ¡†æ¶æœ¬èº«å¹¶æ²¡æœ‰å¥½åä¹‹åˆ†ï¼Œè¿™é‡Œæˆ‘ä»¬å°½å¯èƒ½åœ°å…¬å¹³å’Œå‡†ç¡®åœ°æ¥æè¿°ä¹‹é—´çš„è”ç³»ä¸åŒºåˆ«ã€‚

#### åº”ç”¨åœºæ™¯

Angularï¼ŒReactï¼ŒVueï¼Œè¿™ä¸‰è€…å…¶å®é¢å¯¹çš„æ˜¯åŒä¸€ä¸ªé¢†åŸŸï¼Œé‚£å°±æ˜¯Webåº”ç”¨ã€‚è¿™ä¸‰è€…ä¸­ï¼ŒAngularçš„é€‚ç”¨é¢†åŸŸç›¸å¯¹çª„ä¸€äº›ï¼Œä¸€èˆ¬ç”¨äºå¤§å‹çš„å•é¡µé¢ç³»ç»Ÿã€‚Reactä¸Vueéå¸¸ç›¸ä¼¼ï¼ŒReactå¯ä»¥æ‹“å±•åˆ°æœåŠ¡ç«¯ï¼Œç§»åŠ¨ç«¯Nativeéƒ¨åˆ†ï¼Œè€ŒVueå› ä¸ºæ¯”è¾ƒè½»é‡ï¼Œè¿˜èƒ½ç”¨äºä¸šåŠ¡åœºæ™¯éå¸¸è½»çš„é¡µé¢ä¸­ï¼Œé˜¿é‡Œç›®å‰ä¹ŸåŸºäºVueæ¨å‡ºäº†weexã€‚

#### å¼€å‘ä½“éªŒ

ç›®å‰çœ‹æ¥ï¼ŒReactç”Ÿæ€æœ€å¼ºå¤§ï¼ŒVueçš„ä¸­æ–‡æ–‡æ¡£æœ€å®Œå–„`React+React-router+Redux`ç›®å‰å½¢æˆäº†ä¸€å¥—æˆç†Ÿç¨³å®šçš„å¼€å‘ä½“éªŒã€‚å¯¹åº”çš„`Vue+VueX+Vue-router`ä¹Ÿæ˜¯å®˜ç½‘æ¨èæ¨èçš„å¥—é¤ã€‚


### 1.2 Reactå¼€å‘ç¯å¢ƒæ­å»º

æ„å»ºä¸€ä¸ªç”Ÿäº§ç¯å¢ƒçš„Reactåº”ç”¨ï¼Œæ˜¯æ¯”è¾ƒå¤æ‚çš„è¿‡ç¨‹ï¼Œæ¶‰åŠæ•´å¥—æŠ€æœ¯æ ˆçš„æ”¹å˜ã€‚æˆ‘ä»¬ä»åŸºäº`wepack``es6`ä»é›¶å¼€å§‹æ­å»ºReactå¼€å‘ç¯å¢ƒã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿™ä¸ªç¯å¢ƒæ‰€ä¾èµ–çš„åŒ…ã€‚

#### 1.2.1 å¼€å‘ç¯å¢ƒä¾èµ–åŒ…ç®€ä»‹

#### react.js

Reactæ˜¯ç”¨æ¥æ„å»ºç”¨æˆ·ç•Œé¢çš„jsåº“ï¼Œå±äºviewå±‚ã€‚ å®ƒæœ‰ä¸¤å¤§ç‰¹ç‚¹ï¼š1ï¼Œå•å‘æ•°æ®ç»‘å®šï¼›2ï¼Œè™šæ‹ŸDOM

#### react-dom.js

react.js ä¸»è¦ç”¨æ¥åˆ›å»ºå…ƒç´ å’Œç»„ä»¶ï¼Œå½“ä½ æƒ³åœ¨htmlä¸­æ¸²æŸ“ä½ çš„ç»„ä»¶çš„æ—¶å€™ï¼Œ ä½ è¿˜å¾—éœ€è¦react-dom.jsã€‚åŒæ—¶ï¼Œreact-dom.jsä¾èµ–äºreact.jsã€‚

#### webpack

Webpack æ˜¯å½“ä¸‹æœ€çƒ­é—¨çš„å‰ç«¯èµ„æºæ¨¡å—åŒ–ç®¡ç†å’Œæ‰“åŒ…å·¥å…·ã€‚å®ƒå¯ä»¥å°†è®¸å¤šæ¾æ•£çš„æ¨¡å—æŒ‰ç…§ä¾èµ–å’Œè§„åˆ™æ‰“åŒ…æˆç¬¦åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„å‰ç«¯èµ„æºã€‚è¿˜å¯ä»¥å°†æŒ‰éœ€åŠ è½½çš„æ¨¡å—è¿›è¡Œä»£ç åˆ†éš”ï¼Œç­‰åˆ°å®é™…éœ€è¦çš„æ—¶å€™å†å¼‚æ­¥åŠ è½½ã€‚é€šè¿‡ loader çš„è½¬æ¢ï¼Œä»»ä½•å½¢å¼çš„èµ„æºéƒ½å¯ä»¥è§†ä½œæ¨¡å—ï¼Œæ¯”å¦‚ CommonJs æ¨¡å—ã€ AMD æ¨¡å—ã€ ES6 æ¨¡å—ã€CSSã€å›¾ç‰‡ã€ JSONã€Coffeescriptã€ LESS ç­‰ã€‚webpackçš„è¯¦ç»†é…ç½®è§ã€Šé™„å½•ä¸€webpackå…¥é—¨é…ç½®ã€‹ã€‚ä»¥ä¸‹æ˜¯webapckçš„å¸¸ç”¨å‘½ä»¤ã€‚

- webpack æœ€åŸºæœ¬çš„å¯åŠ¨webpackå‘½ä»¤
- webpack -w æä¾›watchæ–¹æ³•ï¼Œå®æ—¶è¿›è¡Œæ‰“åŒ…æ›´æ–°
- webpack -p å‹ç¼©æ··æ·†è„šæœ¬ï¼Œè¿™ä¸ªéå¸¸éå¸¸é‡è¦ï¼
- webpack -d ç”Ÿæˆmapæ˜ å°„æ–‡ä»¶ï¼Œå‘ŠçŸ¥å“ªäº›æ¨¡å—è¢«æœ€ç»ˆæ‰“åŒ…åˆ°å“ªé‡Œäº†,æ–¹ä¾¿è°ƒè¯•
- webpack --progress æ˜¾ç¤ºæ‰“åŒ…è¿›ç¨‹ï¼Œç™¾åˆ†æ¯”æ˜¾ç¤º
- webpack --config XXX.js //ä½¿ç”¨å¦ä¸€ä»½é…ç½®æ–‡ä»¶æ¥æ‰“åŒ… 
- webpack --colors è¾“å‡ºç»“æœå¸¦å½©è‰²ï¼Œæ¯”å¦‚ï¼šä¼šç”¨çº¢è‰²æ˜¾ç¤ºè€—æ—¶è¾ƒé•¿çš„æ­¥éª¤
- webpack --profile è¾“å‡ºæ€§èƒ½æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸€æ­¥çš„è€—æ—¶
- webpack --display-error-details æ–¹ä¾¿å‡ºé”™æ—¶èƒ½æŸ¥é˜…æ›´è¯¦å°½çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚ webpack å¯»æ‰¾æ¨¡å—çš„è¿‡ç¨‹ï¼‰ï¼Œä»è€Œæ›´å¥½å®šä½åˆ°é—®é¢˜ã€‚
- webpack --display-modules é»˜è®¤æƒ…å†µä¸‹ node_modules ä¸‹çš„æ¨¡å—ä¼šè¢«éšè—ï¼ŒåŠ ä¸Šè¿™ä¸ªå‚æ•°å¯ä»¥æ˜¾ç¤ºè¿™äº›è¢«éšè—çš„æ¨¡å—

##### webpack-dev-middleware

å®ƒæ˜¯ä¸€ä¸ªç”¨æ¥ç»„ç»‡åŒ…è£…webpackä½¿å…¶å˜æˆä¸­é—´ä»¶çš„å®¹å™¨ã€‚ï¼ˆä¸­é—´ä»¶çš„ç”¨é€”å°±æ˜¯åœ¨è¾“å…¥å’Œè¾“å‡ºçš„è¿‡ç¨‹ä¸­åŠ å·¥çš„ä¸€ç§æ‰‹æ®µï¼‰
webpackæœ¬èº«åªè´Ÿè´£æ‰“åŒ…ç¼–è¯‘ï¼Œwebpack-dev-serveræ˜¯ååŠ©æˆ‘ä»¬å¼€å‘çš„æœåŠ¡å™¨ï¼Œè¿™ä¸ªæœåŠ¡å™¨åº•å±‚æ˜¯é expressæ“ä½œçš„ã€‚
æˆ‘ä»¬çš„é¡µé¢å¦‚ä½•åœ¨è¿™ä¸ªæœåŠ¡å™¨ä¸Šæ›´æ–°å‘¢ï¼Œé¦–å…ˆæ˜¯å–å¾—webpackæ‰“åŒ…å¥½çš„èµ„æºï¼Œè¿™å°±éœ€è¦åœ¨è¯·æ±‚åˆ°å“åº”çš„è¿‡ç¨‹ä¸­é€šè¿‡
expressçš„ä¸­é—´ä»¶å–å¾—èµ„æ–™ï¼Œ è€Œæ–¹æ³•å°±æ˜¯é€šè¿‡webpack-dev-middlewareæ¥å®ç°ã€‚è¿™ä¸ªä¸­é—´ä»¶åªåœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œåˆ‡å¿Œç”¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ã€‚

è¿™ä¸ªä¸­é—´ä»¶æœ‰ä¸¤ç‚¹å¥½å¤„ï¼š

- ç›´æ¥åœ¨å†…å­˜ä¸­æ“ä½œæ–‡ä»¶ï¼Œè€Œéç£ç›˜ä¸­ã€‚è¿™æ ·å¤„ç†é€Ÿåº¦æ›´å¿«ã€‚
- åœ¨ç›‘è§†ï¼ˆwatchï¼‰æ¨¡å¼ä¸‹ï¼Œå¦‚æœæ–‡ä»¶æ”¹å˜ï¼Œä¸­é—´ä»¶ç«‹å³åœæ­¢æä¾›ä¹‹å‰çš„bundleï¼Œå¹¶ä¸”ä¼šå»¶è¿Ÿ
è¯·æ±‚å›åº”ï¼Œç›´åˆ°æ–°çš„ç¼–è¯‘å®Œæˆï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œæ–‡ä»¶ä¿®æ”¹åï¼Œä½ å¯ä»¥ç›´æ¥åˆ·æ–°é¡µé¢ï¼Œè€Œä¸ç”¨ç­‰å¾…ç¼–è¯‘ã€‚


#### webpack-hot-middleware

webpack-dev-middleware + webpack-hot-middleware å³å¯è®©æˆ‘ä»¬ç”¨ express å®šåˆ¶ä¸€ä¸ªæœ‰çƒ­æ›¿æ¢åŠŸèƒ½çš„ webpack å¼€å‘æœåŠ¡å™¨ã€‚

#### express

åŸºäº Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ web å¼€å‘æ¡†æ¶ã€‚
åœ¨è¿™é‡Œç”¨äºé…ç½®å¼€å‘æœåŠ¡å™¨ã€‚

#### webpack-hot-middleware

webpack-dev-middleware + webpack-hot-middleware å³å¯è®©æˆ‘ä»¬ç”¨ express å®šåˆ¶ä¸€ä¸ªæœ‰çƒ­æ›¿æ¢åŠŸèƒ½çš„ webpack å¼€å‘æœåŠ¡å™¨ã€‚

#### babel-core

Babelæ˜¯ä¸€ä¸ªè½¬æ¢ç¼–è¯‘å™¨ï¼Œå®ƒèƒ½å°†ES6è½¬æ¢æˆå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ä»£ç ã€‚ä½œä¸ºä¸‹ä¸€ä»£javascriptè¯­è¨€æ ‡å‡†ï¼Œè¯·æ‹¥æŠ±ES6/ES7å§ï¼babel-core æ˜¯Babelç¼–è¯‘å™¨çš„æ ¸å¿ƒã€‚

#### babel-loader

loader ç”¨äºè½¬æ¢åº”ç”¨ç¨‹åºçš„èµ„æºæ–‡ä»¶ï¼Œä»–ä»¬æ˜¯è¿è¡Œåœ¨nodejsä¸‹çš„å‡½æ•°ï¼Œä½¿ç”¨å‚æ•°æ¥è·å–ä¸€ä¸ªèµ„æºçš„æ¥æºå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„æ¥æºé’ˆå¯¹webpackçš„babelåŠ è½½å™¨ã€‚babel-loader å°±æ˜¯å‘Šè¯‰webpackå»åŠ è½½æˆ‘ä»¬å†™çš„ä½¿ç”¨äº†es6è¯­æ³•çš„jsæ–‡ä»¶ã€‚

#### babel-runtime

Babelé»˜è®¤åªè½¬æ¢æ–°çš„JavaScriptè¯­æ³•ï¼Œè€Œä¸æ˜¯è½¬æ¢æ–°çš„APIï¼Œæ¯”å¦‚Iteratorã€Generatorã€Setã€Mapsã€Proxyã€Reflectï¼ŒSymbolã€Promiseç­‰å…¨å±€å¯¹è±¡ï¼Œä»¥åŠä¸€äº›å®šä¹‰åœ¨å…¨å±€å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼ˆæ¯”å¦‚Object.assignï¼‰éƒ½ä¸ä¼šè½¬ç ã€‚

#### babel-preset-latest

es2015,es2016,es2017è½¬ç è§„åˆ™ã€‚ä¸ºæ‰€æœ‰es6æ’ä»¶æ‰€è®¾ç½®çš„babelé¢„è®¾ï¼Œæœ‰äº†å®ƒï¼Œè¯¸å¦‚ï¼Œes6çš„ç®­å¤´å‡½æ•°ï¼Œç±»ï¼Œç­‰ç­‰è¯­æ³•ç‰¹æ€§æ‰èƒ½å‘es5è½¬æ¢ã€‚

#### babel-preset-react

reactè½¬ç è§„åˆ™ã€‚ä¸ºæ‰€æœ‰reactæ’ä»¶æ‰€è®¾ç½®çš„babelé¢„è®¾ã€‚æœ‰äº†å®ƒï¼Œæ‰èƒ½è¯†åˆ«è½¬è¯‘jsxè¯­æ³•ç­‰ã€‚

#### react-hot-loader

å¯ä»¥ä½¿reactç»„ä»¶åœ¨æµè§ˆå™¨ä¸Šå®æ—¶æ›´æ–°è€Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°ã€‚

#### babel-preset-stage-X

ES7ä¸åŒé˜¶æ®µè¯­æ³•ææ¡ˆçš„è½¬ç è§„åˆ™ï¼ˆå…±æœ‰4ä¸ªé˜¶æ®µï¼‰ï¼Œé€‰è£…ä¸€ä¸ªåœ¨è¿›è¡Œå®é™…å¼€å‘æ—¶ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ¥è®¾ç½®å¯¹åº”çš„stageã€‚ä¸€èˆ¬è®¾ç½®ä¸ºstage-0å³å¯ã€‚


#### 1.2.1 å¼€å‘ç¯å¢ƒæœåŠ¡æ­å»º

æ ¹æ®ä¸Šè¿°æ’ä»¶ï¼Œæˆ‘ä»¬é…ç½®å¥½æˆ‘ä»¬çš„`package.json`ã€‚

```json
{
  "name": "demo",
  "version": "1.0.0",
  "description": "demo-react",
  "main": "index.js",
  "scripts": {
    "start": "babel-node server.js"
  },
  "keywords": [
    "react"
  ],
  "dependencies": {
    "babel-runtime": "^6.20.0",
    "react": "^15.4.1",
    "react-dom": "^15.4.1"
  },
  "devDependencies": {
    "babel-cli": "^6.11.4",
    "babel-core": "^6.10.4",
    "babel-loader": "^6.2.4",
    "babel-plugin-transform-runtime": "^6.15.0",
    "babel-preset-latest": "^6.16.0",
    "babel-preset-react": "^6.11.1",
    "babel-preset-stage-0": "^6.5.0",
    "express": "^4.14.0",
    "html-webpack-plugin": "^2.28.0",
    "react-hot-loader": "^3.0.0-beta.6",
    "redbox-react": "^1.2.10",
    "rimraf": "^2.5.3",
    "webpack": "^1.13.1",
    "webpack-dev-middleware": "^1.6.1",
    "webpack-hot-middleware": "^2.12.1"
  },
  "author": "younth",
  "license": "ISC"
}

```

æ³¨æ„æˆ‘ä»¬çš„å¯åŠ¨è„šæœ¬ä¸º`bable-node`ï¼Œè¿™é‡Œä¸ç”¨`node server.js`æ˜¯ä¸ºäº†å…¼å®¹node7.0ä»¥ä¸‹ç‰ˆæœ¬ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨server.jsé‡Œé¢å¯ä»¥ç”¨`ES6/ES7`è¯­æ³•äº†ã€‚


`server.js`æä¾›ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼š

```js

// æœ¬åœ°å¼€å‘server èƒ½åŠ›

const path = require('path');
import webpack from 'webpack';// es6 import
import webpackDevMiddleware from 'webpack-dev-middleware';
import webpackHotMiddleware from 'webpack-hot-middleware';
import config from './webpack-dev-config';

// express server
const app = new (require('express'))();
const port = 3000; // ç›‘å¬çš„ç«¯å£æ˜¯3000 locahost:3000
const compiler = webpack(config);

// devä¸­é—´ä»¶
app.use(webpackDevMiddleware(compiler, {
  noInfo: true, // ä¸æ˜¾ç¤ºç¼–è¯‘ä¿¡æ¯
  publicPath: config.output.publicPath,
  stats: {
    colors: true
  }
}));
app.use(webpackHotMiddleware(compiler));

app.get('*', function(req, res) {
  res.sendFile(path.join(__dirname, 'index.html'));
});

app.listen(port, function(error) {
  if (error) {
    console.error(error)
  } else {
    console.info("==> ğŸŒ  Listening on port %s. Open up http://localhost:%s/ in your browser.", port, port)
  }
});
```

server.jsé‡Œé¢ç”¨åˆ°äº†webpackçš„é…ç½®æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹æˆ‘ä»¬çš„webpacké…ç½®æ–‡ä»¶ä¿¡æ¯ã€‚

```
/**
 * å¼€å‘æ¨¡å¼ä¸‹çš„webpacké…ç½®
 */

const path = require('path');
import webpack from 'webpack';
import HtmlWebpackPlugin from 'html-webpack-plugin';

module.exports = {

  devtool: 'cheap-module-eval-source-map',
  // devtool æŒ‡æ˜äº†sourcemapçš„ç”Ÿæˆæ–¹å¼ï¼Œå®ƒæœ‰ä¸ƒä¸ªé€‰é¡¹ï¼Œå…·ä½“è¯·å‚è€ƒ https://segmentfault.com/a/1190000004280859
  // sourcemap çš„ä½œç”¨å°±æ˜¯ä¸ºè°ƒè¯•ä»£ç æä¾›ä¾¿åˆ©
  // cheap-module-eval-source-map ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¼šæ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œè¿™ä¹Ÿæ˜¯ä¸‹ç‰ˆæœ¬ webpack çš„é»˜è®¤é€‰é¡¹ã€‚

  entry: [
    'react-hot-loader/patch',
    // reload
    'webpack-hot-middleware/client?reload=true',
    // è¿™é‡Œreload=trueçš„æ„æ€æ˜¯ï¼Œå¦‚æœç¢°åˆ°ä¸èƒ½hot reloadçš„æƒ…å†µï¼Œå°±æ•´é¡µåˆ·æ–°ã€‚
    // index.jsä¼šè‡ªåŠ¨æ³¨å…¥æˆ‘ä»¬æ¨¡æ¿
    path.resolve(__dirname, 'src/index.js') // æ‰“åŒ…çš„å…¥å£ å¯ä»¥æ˜¯å¤šé¡µ å¤šé¡µæœ€åå°±æ˜¯ page1.bundle.js å’Œ page2.bundle.js
  ],
  // é¡µé¢å…¥å£æ–‡ä»¶é…ç½®

  output: { // outputé¡¹å‘Šè¯‰webpackæ€æ ·å­˜å‚¨è¾“å‡ºç»“æœä»¥åŠå­˜å‚¨åˆ°å“ªé‡Œ
    filename: 'bundle.js',

    path: path.join(__dirname, 'dist'),
    // è¾“å‡ºç›®å½•çš„é…ç½®ï¼Œæ¨¡æ¿ã€æ ·å¼ã€è„šæœ¬ã€å›¾ç‰‡ç­‰èµ„æºçš„è·¯å¾„é…ç½®éƒ½ç›¸å¯¹äºå®ƒ
    // â€œpathâ€ä»…ä»…å‘Šè¯‰Webpackç»“æœå­˜å‚¨åœ¨å“ªé‡Œ

    publicPath: ''
    //æ¨¡æ¿ã€æ ·å¼ã€è„šæœ¬ã€å›¾ç‰‡ç­‰èµ„æºå¯¹åº”çš„serverä¸Šçš„è·¯å¾„
    // â€œpublicPathâ€é¡¹åˆ™è¢«è®¸å¤šWebpackçš„æ’ä»¶ç”¨äºåœ¨ç”Ÿäº§æ¨¡å¼ä¸‹æ›´æ–°å†…åµŒåˆ°cssã€htmlæ–‡ä»¶é‡Œçš„urlå€¼ã€‚
  },
  // æ–‡ä»¶è¾“å‡ºç›®å½•

  resolve: {
    extensions: ['', '.js', 'jsx']
  },
  // å®é™…å°±æ˜¯è‡ªåŠ¨æ·»åŠ åç¼€ï¼Œé»˜è®¤æ˜¯å½“æˆjsæ–‡ä»¶æ¥æŸ¥æ‰¾è·¯å¾„
  // ç©ºå­—ç¬¦ä¸²åœ¨æ­¤æ˜¯ä¸ºäº†resolveä¸€äº›åœ¨importæ–‡ä»¶æ—¶ä¸å¸¦æ–‡ä»¶æ‰©å±•åçš„è¡¨è¾¾å¼

  module: {
    // babel
    loaders: [
      {
        test: /\.jsx?$/, // åŒ¹é…'js' or 'jsx' åç¼€çš„æ–‡ä»¶ç±»å‹
        loaders: ['babel'],
        exclude: /node_modules/,// æ’é™¤æŸäº›æ–‡ä»¶
        include: __dirname
      }
    ]
  },

  plugins: [
    new webpack.HotModuleReplacementPlugin(), // å¯ç”¨çƒ­æ›¿æ¢,ä»…å¼€å‘æ¨¡å¼éœ€è¦

    new webpack.NoErrorsPlugin(),// å…è®¸é”™è¯¯ä¸æ‰“æ–­ç¨‹åºï¼Œ,ä»…å¼€å‘æ¨¡å¼éœ€è¦
    
    // index.html  index.jsä¼šæ³¨å…¥
    new HtmlWebpackPlugin({
        template: path.resolve(__dirname, 'index.html'),
        inject: true
    })
  ]
};
```

### 1.3 ç¼–å†™ç¬¬ä¸€ä¸ªReactç¨‹åº

ä¸Šä¸€èŠ‚æˆ‘ä»¬é…ç½®å¥½äº†åŸºäº`webpack`çš„æœ¬åœ°å¼€å‘ç¯å¢ƒï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹ç¼–å†™æˆ‘ä»¬çš„reactç¨‹åºã€‚

é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…¥å£æ¨¡æ¿æ–‡ä»¶ï¼Œæˆ‘ä»¬å®šä¹‰ä¸º`index.html`ã€‚

```html

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>react+webpack</title>
</head>
<body>
    <div id="root"></div>
</body>
</html>

```

æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå…¥å£çš„jsæ–‡ä»¶ï¼Œå®šä¹‰ä¸º`src/index.js`

```js
import React from 'react';
import ReactDOM from 'react-dom';

ReactDOM.render(
  <h1>Hello, world!</h1>,
  document.getElementById('root')
);
```

æ­¤æ—¶æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ`npm start`ï¼Œå¯ä»¥çœ‹åˆ°æœåŠ¡å¯åŠ¨æˆåŠŸï¼Œæ—¥å¿—å¤§æ¦‚å¦‚ä¸‹ï¼š

```bash
> babel-node server.js

==> ğŸŒ  Listening on port 3000. Open up http://localhost:3000/ in your browser.
webpack built 568350eb29d91d08cc44 in 4124ms
```

æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥`localhost:3000`å³å¯çœ‹åˆ°Rectçš„ç¬¬ä¸€ä¸ªç¨‹åºäº†ï¼

